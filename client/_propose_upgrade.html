<script id="propose-upgrade" class="template-partial" type="text/x-handlebars-template">
	<p>Upgrade now to Anyfile Notepad++ to get an ad-free experience of the application!</p>

  <p>For less than the price of a Starbuck's latte, you'll encourage this project and allow to pay for better worldwide distributed hosting in order to improve the app speed and load time for all users!</p>
  
  <div class="action-btn-container">
    <a class="btn btn-primary" href="{{noaction}}" {{{ m-action-n-close "application.popup_upgrade()" }}}>{{ i18n "Upgrade to Anyfile Notepad++" }}</a>
  </div>

  <hr>
  <h6>Advertisement</h6>
  
  <iframe style="border:none;width:735px;height:100px;" id="upgrade-frame-ad" src="about:blank"></iframe>
  <hr>

  <div class="propose-upgrade-timer">
    <h4>You can continue in <span id="propose-upgrade-seconds-remaining">5</span> seconds</h4>
    <div class="progress">
      <div class="progress-bar progress-bar-info" style="width:100%"></div>
    </div>
  </div>

  {{{ concat "<scr" "ipt>" }}}
 var doc = document.getElementById('upgrade-frame-ad').contentWindow.document;
  doc.open();
  doc.write("<html style='overflow-y:hidden'><head><title></title></head><body style='padding:0;margin:0'>"+"<scr"+"ipt type='text/javascript'>atOptions = {'key' : 'd86c83ab7da8bf147b87f388c2f1522d','format' : 'iframe','height' : 90,'width' : 728,'params' : {}};document.write('<scr' + 'ipt type=\"text/javascript\" src=\"http' + (location.protocol === 'https:' ? 's' : '') + '://www.bcloudhost.com/d86c83ab7da8bf147b87f388c2f1522d/invoke.js\"></scr' + 'ipt>');</scr"+"ipt>"+"</body></html>");
  doc.close();


  var secondsElem = $("#propose-upgrade-seconds-remaining");
  var initial = secondsElem.html();
  var i = setInterval(function() {
    var remaining = parseInt(secondsElem.html());
    remaining -= 1;
    secondsElem.html(remaining);

    secondsElem.closest(".propose-upgrade-timer").find(".progress-bar").css("width", (remaining/initial)*100 + "%");

    if(remaining <= 0) {
      clearInterval(i);
      secondsElem.closest(".propose-upgrade-timer").hide();
      secondsElem.closest(".modal").find(".modal-footer").show();
    }
  }, 1000)

  {{{ concat "</scr" "ipt>" }}}

</script>

